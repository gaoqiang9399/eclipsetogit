//download by http://sc.xueit.com
var hoverIndex=-1;
var hoverFlag = false;
var clkFlag = false;
var postion = {};
(function($) {
	$.fn.lavaLamp = function(o) {
		o = $.extend({
			fx: "linear",
			speed: 300,
			click: function() {}
		}, o || {});
		return this.each(function() {
			var b = $(this),
				noop = function() {},
				$back = $('<li class="back"><div class="left"></div></li>').appendTo(b),
				$li = $("li", this),
				curr = $("li.btn-active", this)[0] || $($li[0]).addClass("btn-active")[0];
			$li.not(".back").hover(function() {
				move(this);
			}, noop);
			$(this).hover(noop, function() {
				move(curr)
			});
			
			$li.click(function(e) {
				setCurr(this);
				return o.click.apply(this, [e, this])
			});
			setCurr(curr);

			function setCurr(a) {
				var w = 68;
				if(a.offsetWidth!=0)
					w = a.offsetWidth;
				$back.css({
					"left": a.offsetLeft + "px",
					"width": w + "px"
				});
				curr = a
			};

			function move(a) {
				$back.each(function() {
					$(this).dequeue()
				}).animate({
					width: a.offsetWidth,
					left: a.offsetLeft
				}, o.speed, o.fx)
			}
		})
	}
})(jQuery)